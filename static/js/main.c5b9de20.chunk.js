(this.webpackJsonpmeadowlark=this.webpackJsonpmeadowlark||[]).push([[0],{18:function(e,t,a){e.exports=a(31)},23:function(e,t,a){},24:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(10),o=a.n(r),s=(a(23),a(24),a(3)),l=a(4),c=a(16),h=a(11),d=a(1),p=a(17),u=a(12),m=a.n(u),v=function(){function e(){Object(s.a)(this,e),this.create_blank_map=this.create_blank_map.bind(this),this.create_preset_map=this.create_preset_map.bind(this),this.map=this.create_preset_map(),this.curr_vis=-1,this.MAP_SCALE_X=500,this.MAP_SCALE_Y=800,this.addAreaToMap=this.addAreaToMap.bind(this),this.getMap=this.getMap.bind(this),this.removeAreaFromMap=this.removeAreaFromMap.bind(this),this.updateAreaNamesInMap=this.updateAreaNamesInMap.bind(this),this.setImageDimensions=this.setImageDimensions.bind(this),this.createTextMap=this.createTextMap.bind(this),this.makeTextOnMapVisible=this.makeTextOnMapVisible.bind(this),this.textMap=[],this.getTextMap=this.getTextMap.bind(this),this.reDrawMap=this.reDrawMap.bind(this),this.scaleMap=this.scaleMap.bind(this)}return Object(l.a)(e,[{key:"create_preset_map",value:function(){return{name:"my-map",areas:[{id:1,url:"content/Recordings.html",name:"Recordings",shape:"poly",coords:[32,304,35,488,222,450,223,360,468,349,462,283,117,296],fillColor:"#516987",optional_override:[-150,0]},{id:2,url:"content/About.html",name:"About",shape:"poly",coords:[299,388,324,393,373,572,240,566,299,476],fillColor:"#AC7F5B",optional_override:[-30,30]},{id:3,url:"content/Press.html",name:"Press",shape:"poly",coords:[339,422,405,366,469,476,406,557],fillColor:"#E4AD74",optional_override:[-30,0]},{id:4,url:"content/Book.html",name:"Book",shape:"poly",coords:[235,397,282,398,285,472,224,558,95,568,100,506,234,461],fillColor:"#84BFD1",optional_override:[-20,10]},{id:5,url:"content/Concerts.html",name:"Concerts",shape:"poly",coords:[29,54,78,94,26,158,70,191,27,269,330,273,470,240,412,192,463,133,323,62,139,53],fillColor:"#647B3F"}]}}},{key:"scaleMap",value:function(e,t,a,i){var n=this,r=(this.MAP_SCALE,this.create_preset_map()),o=Math.min(e*i,a),s=Math.min(this.MAP_SCALE_Y*(e*i/this.MAP_SCALE_X),a/this.MAP_SCALE_X*this.MAP_SCALE_Y);console.log(o);var l=function(){h=0;var e="coords",t=function(){if(h%2==0){var t=r.areas[c][e][h]/n.MAP_SCALE_X,a=o*t;r.areas[c][e][h]=a}else{var i=r.areas[c][e][h]/n.MAP_SCALE_Y,l=s*i;r.areas[c][e][h]=l}};for(h in r.areas[c].coords)e="coords",t();if("optional_override"in r.areas[c])for(h in h=0,r.areas[c].optional_override)e="optional_override",t()};for(var c in r.areas){var h;l()}console.log(r),this.map=r}},{key:"create_blank_map",value:function(){return{name:"my-map",areas:[]}}},{key:"makeTextOnMapVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.curr_vis=t?-1:e}},{key:"addAreaToMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.push(25),this.map.areas.push({name:this.map.areas.length.toString(),shape:"circle",coords:e,preFillColor:"rgb(255,255,255,0.3)",lineWidth:2,description:t,imageDimensions:[0,0],imagePercentage:[0,0]})}},{key:"removeAreaFromMap",value:function(e){this.map.areas.splice(e,1),this.updateAreaNamesInMap()}},{key:"setImageDimensions",value:function(e){var t=!0,a=!1,i=void 0;try{for(var n,r=this.map.areas[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;!1===o.imageDimensions.includes(0)&&(o.imagePercentage[0]=parseFloat(e[0])/parseFloat(o.imageDimensions[0]),o.imagePercentage[1]=parseFloat(e[1])/parseFloat(o.imageDimensions[1])),o.imageDimensions[0]=e[0],o.imageDimensions[1]=e[1]}}catch(s){a=!0,i=s}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}},{key:"updateAreaNamesInMap",value:function(){var e=0,t=!0,a=!1,i=void 0;try{for(var n,r=this.map.areas[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){n.value.name=e.toString(),e+=1}}catch(o){a=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(a)throw i}}}},{key:"getMap",value:function(){return this.map}},{key:"getTextMap",value:function(){return this.textMap}},{key:"createTextMap",value:function(){var e=this;this.textMap=[],this.map.areas.map((function(t){if(void 0!==t.coords&&0!==t.coords.length){var a=0,i=0,r=0;for(r=0;r<t.coords.length;r++)r%2===0?a+=t.coords[r]:i+=t.coords[r];a/=t.coords.length/2,i/=t.coords.length/2,void 0!=t.optional_override&&(a+=t.optional_override[0],i+=t.optional_override[1]);var o="hidden";t.id==e.curr_vis&&(o="visible");var s={position:"absolute",left:a.toString()+"px",top:i.toString()+"px",zIndex:10,color:"white",fontWeight:900,visibility:o,MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",pointerEvents:"none"};e.textMap.push(n.a.createElement("span",{key:t.name,style:s},t.name))}return null}))}},{key:"reDrawMap",value:function(){var e=!0,t=!1,a=void 0;try{for(var i,n=this.map.areas[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var r=i.value;!1===r.imagePercentage.includes(0)&&(r.coords[0]=parseFloat(r.coords[0])*r.imagePercentage[0],r.coords[1]=parseFloat(r.coords[1])*r.imagePercentage[1])}}catch(o){t=!0,a=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}this.createTextMap()}}]),e}(),M=a(15),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).logStr=" ",a.MAP=new v,a.MAP.createTextMap(),a.clicked=a.clicked.bind(Object(d.a)(a)),a.load=a.load.bind(Object(d.a)(a)),a.moveOnArea=a.moveOnArea.bind(Object(d.a)(a)),a.enterArea=a.enterArea.bind(Object(d.a)(a)),a.leaveArea=a.leaveArea.bind(Object(d.a)(a)),a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(d.a)(a)),a.state={width:0,height:0,screen_scale:.8,max_width:500,url:"/harlanSiteMap.png",redirect:!1,redirect_path:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight}),this.MAP.scaleMap(window.innerWidth,window.innerHeight,this.state.max_width,this.state.screen_scale)}},{key:"clicked",value:function(e,t,a){window.location.assign(e.url)}},{key:"load",value:function(){}},{key:"enterArea",value:function(e){this.MAP.makeTextOnMapVisible(e.id),this.MAP.createTextMap(),this.setState({hoveredArea:e})}},{key:"leaveArea",value:function(e){this.MAP.makeTextOnMapVisible(-1,!0),this.MAP.createTextMap(),this.setState({hoveredArea:void 0})}},{key:"moveOnArea",value:function(e){}},{key:"render",value:function(){var e=this;return this.state.redirect?n.a.createElement(M.a,{push:!0,to:this.state.redirect_path}):n.a.createElement("div",{className:"grid",onContextMenu:function(e){return e.preventDefault()}},n.a.createElement("div",{className:"presenter"},n.a.createElement("div",{id:"imageMapper",style:{position:"relative"}},n.a.createElement(m.a,{src:"harlanSiteMap.png",map:this.MAP.getMap(),width:Math.min(this.state.width*this.state.screen_scale,this.state.max_width),onLoad:function(){return e.load()},onClick:function(t,a,i){return e.clicked(t,a,i)},onMouseEnter:function(t){return e.enterArea(t)},onMouseLeave:function(t){return e.leaveArea(t)},onMouseMove:function(t,a,i){return e.moveOnArea(t,i)},lineWidth:4,strokeColor:"white"}),this.MAP.getTextMap().map((function(e,t){return e})))))}}]),t}(i.Component);var g=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,"MEADOWLARKE"),n.a.createElement(f,{className:"img-selector"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.c5b9de20.chunk.js.map